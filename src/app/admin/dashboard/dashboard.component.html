<div class="dashboard-container">
    <h1>Admin Dashboard - Visitor Tracking</h1>

    <div *ngIf="loading" class="loading">Loading data...</div>

    <div *ngIf="!loading" class="stats-container">
        <div class="stat-card">
            <h3>Total Visits</h3>
            <p>{{ visits.length }}</p>
        </div>
    </div>

    <div class="table-responsive" *ngIf="!loading && visits.length > 0">
        <table>
            <thead>
                <tr>
                    <th>Time</th>
                    <th>IP Address</th>
                    <th>Location</th>
                    <th>Used Device</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let visit of visits">
                    <td>{{ visit.visitTime | date:'medium' }}</td>
                    <td>{{ visit.ip }}</td>
                    <td>{{ visit.city }}, {{ visit.region }}, {{ visit.country }}</td>
                    <td class="device-info" title="{{ visit.userAgent }}">{{ visit.userAgent }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="!loading && visits.length === 0" class="no-data">
        No visits recorded yet.
    </div>
</div>